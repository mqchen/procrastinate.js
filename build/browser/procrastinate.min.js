/*! procrastinate.js 2015-04-26 */ !function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var deferred=require("deferred"),queue=require("deferred-queue"),extend=require("extend"),procrastinate=function(customOptions){this.options={events:{}},extend(!0,this.options,customOptions),this.listeners={},Object.keys(this.options.events).map(function(event){this.listeners[event]=[]}.bind(this)),this._queue=queue(),this._doingPromise=null,this._laterTimer,this._laterEnqueue=!1};procrastinate.prototype._triggerEvent=function(event,args){return deferred.map(this.listeners[event],deferred.gate(function(listener){return listener.apply(this,args)}.bind(this),this.options.events[event]))},procrastinate.prototype.doLater=function(delay,enqueue){clearTimeout(this._laterTimer),this._laterEnqueue=enqueue,this._laterTimer=setTimeout(function(){this.doNow(enqueue)}.bind(this),delay)},procrastinate.prototype._do=function(){var d=deferred(),task=function(cb){this._doingPromise=d.promise,deferred.map(Object.keys(this.listeners),deferred.gate(function(event){return this._triggerEvent(event)}.bind(this),1)).done(function(result){d.resolve(result),this._doingPromise=null,cb(null)}.bind(this))}.bind(this);return this._queue.push(task),d.promise},procrastinate.prototype.doNow=function(enqueue){return enqueue=void 0===enqueue?!0:enqueue,this._laterEnqueue||clearTimeout(this._laterTimer),this.isDoing&&!enqueue?deferred(1):this._do()},procrastinate.prototype.on=function(event,listener){this.listeners[event].push(listener)},procrastinate.prototype.isDoing=function(){return!!this._doingPromise},procrastinate.prototype.getDoing=function(){return this._doingPromise||deferred(1)},module.exports=procrastinate},{deferred:27,"deferred-queue":2,extend:84}],2:[function(require,module,exports){"use strict";var events=require("events"),util=require("util");module.exports=function(){return new DeferredQueue};var EMPTY=0,PAUSED=1,EXECUTING=2,ERROR=3,DeferredQueue=function(){events.EventEmitter.call(this),this._tasks=[],this._state=EMPTY};util.inherits(DeferredQueue,events.EventEmitter),DeferredQueue.prototype._execute=function(){if(this._state===EXECUTING){if(!this._tasks.length)return void(this._state=EMPTY);this._preventDefault=!1;var e=this._tasks.shift();if(e.task.length){var me=this;e.task.call(this,function(error){error?(me._state=ERROR,e.cb&&e.cb.call(me,error),me._preventDefault||me.emit("error",error)):(e.cb&&e.cb.apply(me,arguments),me._execute())})}else{try{var v=e.task.call(this)}catch(error){this._state=ERROR,e.cb&&e.cb.call(this,error),this._preventDefault||this.emit("error",error)}if(this._state===ERROR)return;e.cb&&e.cb.call(this,null,v),this._execute()}}},DeferredQueue.prototype.pause=function(){this._state=PAUSED},DeferredQueue.prototype.pending=function(){return this._tasks.length},DeferredQueue.prototype.preventDefault=function(){this._preventDefault=!0},DeferredQueue.prototype.push=function(task,cb){return this._state!==ERROR?(this._tasks.push({task:task,cb:cb}),this._state===EMPTY&&(this._state=EXECUTING,this._execute()),this):void 0},DeferredQueue.prototype.resume=function(){this._state===PAUSED&&(this._state=EXECUTING,this._execute())},DeferredQueue.prototype.unshift=function(task,cb){return this._state!==ERROR?(this._tasks.unshift({task:task,cb:cb}),this._state===EMPTY&&(this._state=EXECUTING,this._execute()),this):void 0}},{events:85,util:89}],3:[function(require,module,exports){"use strict";var deferred,resolve,reject,callable=require("es5-ext/object/valid-callable"),d=require("d"),isCallable=require("es5-ext/object/is-callable"),ee=require("event-emitter"),isPromise=require("./is-promise"),create=Object.create,defineProperty=Object.defineProperty;module.exports=exports=function(name,unres,onres,res){name=String(name),callable(res)&&(null==onres||callable(onres))&&callable(unres),defineProperty(exports._unresolved,name,d(unres)),exports._onresolve[name]=onres,defineProperty(exports._resolved,name,d(res)),exports._names.push(name)},exports._names=["done","then","valueOf"],exports._unresolved=ee(create(Function.prototype,{then:d(function(win,fail){var def;return this.pending||(this.pending=[]),def=deferred(),this.pending.push("then",[win,fail,def.resolve,def.reject]),def.promise}),done:d(function(win,fail){null==win||callable(win),null==fail||callable(fail),this.pending||(this.pending=[]),this.pending.push("done",arguments)}),resolved:d(!1),returnsPromise:d(!0),valueOf:d(function(){return this})})),exports._onresolve={then:function(win,fail,resolve,reject){var value,cb=this.failed?fail:win;if(null==cb)return void(this.failed?reject(this.value):resolve(this.value));if(isCallable(cb)){if(isPromise(cb))return cb.resolved?void(cb.failed?reject(cb.value):resolve(cb.value)):void cb.done(resolve,reject);try{value=cb(this.value)}catch(e){return void reject(e)}return void resolve(value)}resolve(cb)},done:function(win,fail){if(this.failed){if(fail)return void fail(this.value);throw this.value}win&&win(this.value)}},exports._resolved=ee(create(Function.prototype,{then:d(function(win,fail){var value,cb=this.failed?fail:win;if(null==cb)return this;if(isCallable(cb)){if(isPromise(cb))return cb;try{value=cb(this.value)}catch(e){return reject(e)}return resolve(value)}return resolve(cb)}),done:d(function(win,fail){if(null==win||callable(win),null==fail||callable(fail),this.failed){if(fail)return void fail(this.value);throw this.value}win&&win(this.value)}),resolved:d(!0),returnsPromise:d(!0),valueOf:d(function(){return this.value})})),deferred=require("./deferred"),resolve=deferred.resolve,reject=deferred.reject,deferred.extend=exports},{"./deferred":5,"./is-promise":29,d:31,"es5-ext/object/is-callable":61,"es5-ext/object/valid-callable":68,"event-emitter":79}],4:[function(require,module,exports){"use strict";var isObject=require("es5-ext/object/is-object"),isPromise=require("./is-promise"),deferred=require("./deferred"),nextTick=require("next-tick"),getPrototypeOf=Object.getPrototypeOf;module.exports=function self(value){var then,done,def,resolve,reject;if(!value)return value;try{then=value.then}catch(e){return value}if("function"!=typeof then)return value;if(isPromise(value))return value;if(!isObject(value))return value;if(!getPrototypeOf(value))return value;try{done=value.done}catch(ignore){}if(def=deferred(),resolve=function(value){def.resolve(self(value))},reject=function(value){def.reject(value)},"function"==typeof done){try{done.call(value,resolve,reject)}catch(e){return def.reject(e)}return def.promise}try{then.call(value,function(value){nextTick(function(){resolve(value)})},function(value){nextTick(function(){reject(value)})})}catch(e){return def.reject(e)}return def.promise}},{"./deferred":5,"./is-promise":29,"es5-ext/object/is-object":62,"next-tick":81}],5:[function(require,module,exports){"use strict";var Deferred,createDeferred,timeout,extendShim,ext,resolve,assimilate,isError=require("es5-ext/error/is-error"),noop=require("es5-ext/function/noop"),isPromise=require("./is-promise"),every=Array.prototype.every,push=Array.prototype.push,count=0,protoSupported=Boolean(isPromise.__proto__);extendShim=function(promise){ext._names.forEach(function(name){promise[name]=function(){return promise.__proto__[name].apply(promise,arguments)}}),promise.returnsPromise=!0,promise.resolved=promise.__proto__.resolved},resolve=function(value,failed){var promise=function(win,fail){return promise.then(win,fail)};return promise.value=value,promise.failed=failed,promise.__proto__=ext._resolved,protoSupported||extendShim(promise),createDeferred._profile&&createDeferred._profile(!0),promise},Deferred=function(){var promise=function(win,fail){return promise.then(win,fail)};count||(timeout=setTimeout(noop,1e9)),++count,createDeferred._monitor&&(promise.monitor=createDeferred._monitor()),promise.__proto__=ext._unresolved,protoSupported||extendShim(promise),createDeferred._profile&&createDeferred._profile(),this.promise=promise,this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this)},Deferred.prototype={resolved:!1,_settle:function(value){var i,name,data;if(this.promise.value=value,this.promise.__proto__=ext._resolved,protoSupported||(this.promise.resolved=!0),this.promise.dependencies&&(this.promise.dependencies.forEach(function self(dPromise){dPromise.value=value,dPromise.failed=this.failed,dPromise.__proto__=ext._resolved,protoSupported||(dPromise.resolved=!0),delete dPromise.pending,dPromise.dependencies&&(dPromise.dependencies.forEach(self,this),delete dPromise.dependencies)},this.promise),delete this.promise.dependencies),data=this.promise.pending){for(i=0;name=data[i];++i)ext._onresolve[name].apply(this.promise,data[++i]);delete this.promise.pending}return this.promise},resolve:function(value){if(this.resolved)return this.promise;if(this.resolved=!0,--count||clearTimeout(timeout),this.promise.monitor&&clearTimeout(this.promise.monitor),value=assimilate(value),isPromise(value)){if(!value.resolved)return value.dependencies||(value.dependencies=[]),value.dependencies.push(this.promise),this.promise.pending?value.pending?(push.apply(value.pending,this.promise.pending),this.promise.pending=value.pending,this.promise.dependencies&&this.promise.dependencies.forEach(function self(dPromise){dPromise.pending=value.pending,dPromise.dependencies&&dPromise.dependencies.forEach(self)})):value.pending=this.promise.pending:value.pending?this.promise.pending=value.pending:this.promise.pending=value.pending=[],this.promise;this.promise.failed=value.failed,value=value.value}return this._settle(value)},reject:function(error){return this.resolved?this.promise:(this.resolved=!0,--count||clearTimeout(timeout),this.promise.monitor&&clearTimeout(this.promise.monitor),this.promise.failed=!0,this._settle(error))}},module.exports=createDeferred=function(value){var d,waiting,initialized,result,l=arguments.length;return l?l>1?(d=new Deferred,waiting=0,result=new Array(l),every.call(arguments,function(value,index){return value=assimilate(value),isPromise(value)?value.resolved?value.failed?(d.reject(value.value),!1):(result[index]=value.value,!0):(++waiting,value.done(function(value){result[index]=value,!--waiting&&initialized&&d.resolve(result)},d.reject),!0):(result[index]=value,!0)}),initialized=!0,waiting||d.resolve(result),d.promise):(value=assimilate(value),isPromise(value)?value:resolve(value,isError(value))):new Deferred},createDeferred.Deferred=Deferred,createDeferred.reject=function(value){return resolve(value,!0)},createDeferred.resolve=function(value){return value=assimilate(value),isPromise(value)?value:resolve(value,!1)},ext=require("./_ext"),assimilate=require("./assimilate")},{"./_ext":3,"./assimilate":4,"./is-promise":29,"es5-ext/error/is-error":39,"es5-ext/function/noop":45}],6:[function(require,module,exports){"use strict";var arrayOf=require("es5-ext/array/of"),deferred=require("../deferred"),isPromise=require("../is-promise"),assimilate=require("../assimilate"),push=Array.prototype.push,slice=Array.prototype.slice;module.exports=function(args,length){var i,l,arg;for(null!=length&&args.length!==length&&(args=slice.call(args,0,length),args.length<length&&push.apply(args,new Array(length-args.length))),i=0,l=args.length;l>i;++i)if(arg=assimilate(args[i]),isPromise(arg)){if(!arg.resolved)return l>1?deferred.apply(null,args):arg(arrayOf);if(arg.failed)return arg;args[i]=arg.value}return args}},{"../assimilate":4,"../deferred":5,"../is-promise":29,"es5-ext/array/of":35}],7:[function(require,module,exports){"use strict";var DMap,assign=require("es5-ext/object/assign"),value=require("es5-ext/object/valid-value"),callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),assimilate=require("../../assimilate"),every=Array.prototype.every,call=Function.prototype.call;DMap=function(list,cb,context){return this.list=list,this.cb=cb,this.context=context,this.result=new Array(list.length>>>0),assign(this,deferred()),every.call(list,this.process,this),this.waiting?(this.initialized=!0,this.promise):this.resolve(this.result)},DMap.prototype={waiting:0,initialized:!1,process:function(value,index){if(++this.waiting,value=assimilate(value),isPromise(value)){if(!value.resolved)return value.done(this.processCb.bind(this,index),this.reject),!0;if(value.failed)return this.reject(value.value),!1;value=value.value}return this.processCb(index,value)},processCb:function(index,value){if(this.promise.resolved)return!1;if(this.cb){try{value=call.call(this.cb,this.context,value,index,this.list)}catch(e){return this.reject(e),!1}if(value=assimilate(value),isPromise(value)){if(!value.resolved)return value.done(this.processValue.bind(this,index),this.reject),!0;if(value.failed)return this.reject(value.value),!1;value=value.value}}return this.processValue(index,value),!0},processValue:function(index,value){this.promise.resolved||(this.result[index]=value,!--this.waiting&&this.initialized&&this.resolve(this.result))}},module.exports=function(cb){return value(this),null==cb||callable(cb),new DMap(this,cb,arguments[1])}},{"../../assimilate":4,"../../deferred":5,"../../is-promise":29,"es5-ext/object/assign":57,"es5-ext/object/valid-callable":68,"es5-ext/object/valid-value":70}],8:[function(require,module,exports){"use strict";var Reduce,assign=require("es5-ext/object/assign"),value=require("es5-ext/object/valid-value"),callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),assimilate=require("../../assimilate"),call=Function.prototype.call,hasOwnProperty=Object.prototype.hasOwnProperty,resolve=deferred.resolve;Reduce=function(list,cb,initial,initialized){if(this.list=list,this.cb=cb,this.initialized=initialized,this.length=list.length>>>0,initial=assimilate(initial),isPromise(initial)){if(!initial.resolved)return assign(this,deferred()),initial.done(function(initial){this.value=initial,this.init()}.bind(this),this.reject),this.promise;if(this.value=initial.value,initial.failed)return initial}else this.value=initial;return this.init()},Reduce.prototype={current:0,state:!1,init:function(){for(;this.current<this.length&&!hasOwnProperty.call(this.list,this.current);)++this.current;if(this.current===this.length){if(!this.initialized)throw new Error("Reduce of empty array with no initial value");return this.resolve?this.resolve(this.value):resolve(this.value)}return this.promise||assign(this,deferred()),this.processCb=this.processCb.bind(this),this.processValue=this.processValue.bind(this),this["continue"](),this.promise},"continue":function(){for(var result;!this.state&&(result=this.process(),"cb"===this.state)&&(result=this.processCb(result),"value"===this.state);)this.processValue(result)},process:function(){var value=assimilate(this.list[this.current]);if(isPromise(value)){if(!value.resolved)return void value.done(function(result){result=this.processCb(result),"value"===this.state&&(this.processValue(result),this.state||this["continue"]())}.bind(this),this.reject);if(value.failed)return void this.reject(value.value);value=value.value}return this.state="cb",value},processCb:function(value){if(!this.initialized)return this.initialized=!0,this.state="value",value;if(this.cb){try{value=call.call(this.cb,void 0,this.value,value,this.current,this.list)}catch(e){return void this.reject(e)}if(value=assimilate(value),isPromise(value)){if(!value.resolved)return void value.done(function(result){this.state="value",this.processValue(result),this.state||this["continue"]()}.bind(this),this.reject);if(value.failed)return void this.reject(value.value);value=value.value}}return this.state="value",value},processValue:function(value){for(this.value=value;++this.current<this.length;)if(hasOwnProperty.call(this.list,this.current))return void(this.state=!1);this.resolve(this.value)}},module.exports=function(cb){return value(this),null==cb||callable(cb),new Reduce(this,cb,arguments[1],arguments.length>1)}},{"../../assimilate":4,"../../deferred":5,"../../is-promise":29,"es5-ext/object/assign":57,"es5-ext/object/valid-callable":68,"es5-ext/object/valid-value":70}],9:[function(require,module,exports){"use strict";var Some,assign=require("es5-ext/object/assign"),value=require("es5-ext/object/valid-value"),callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),assimilate=require("../../assimilate"),call=Function.prototype.call,resolve=deferred.resolve;Some=function(list,cb,context){for(this.list=list,this.cb=cb,this.context=context,this.length=list.length>>>0;this.current<this.length;){if(this.current in list)return assign(this,deferred()),this.processCb=this.processCb.bind(this),this.processValue=this.processValue.bind(this),this.process(),this.promise;++this.current}return resolve(!1)},Some.prototype={current:0,process:function(){var value=assimilate(this.list[this.current]);if(isPromise(value)){if(!value.resolved)return void value.done(this.processCb,this.reject);if(value.failed)return void this.reject(value.value);value=value.value}this.processCb(value)},processCb:function(value){if(this.cb){try{value=call.call(this.cb,this.context,value,this.current,this.list)}catch(e){return void this.reject(e)}if(value=assimilate(value),isPromise(value)){if(!value.resolved)return void value.done(this.processValue,this.reject);if(value.failed)return void this.reject(value.value);value=value.value}}this.processValue(value)},processValue:function(value){if(value)return void this.resolve(!0);for(;++this.current<this.length;)if(this.current in this.list)return void this.process();this.resolve(!1)}},module.exports=function(cb){return value(this),null==cb||callable(cb),new Some(this,cb,arguments[1])}},{"../../assimilate":4,"../../deferred":5,"../../is-promise":29,"es5-ext/object/assign":57,"es5-ext/object/valid-callable":68,"es5-ext/object/valid-value":70}],10:[function(require,module,exports){"use strict";var applyFn,callAsync,toArray=require("es5-ext/array/to-array"),callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),processArguments=require("../_process-arguments"),slice=Array.prototype.slice,apply=Function.prototype.apply;applyFn=function(fn,args,def){args=toArray(args),apply.call(fn,this,args.concat(function(error,result){null==error?def.resolve(arguments.length>2?slice.call(arguments,1):result):def.reject(error)}))},callAsync=function(fn,length,context,args){var def;if(args=processArguments(args,length),isPromise(args))return args.failed?args:(def=deferred(),args.done(function(args){if(fn.returnsPromise)return apply.call(fn,context,args);try{applyFn.call(context,fn,args,def)}catch(e){def.reject(e)}},def.reject),def.promise);if(fn.returnsPromise)return apply.call(fn,context,args);def=deferred();try{applyFn.call(context,fn,args,def)}catch(e){throw def.reject(e),e}return def.promise},module.exports=exports=function(context){return callAsync(callable(this),null,context,slice.call(arguments,1))},Object.defineProperty(exports,"_base",{configurable:!0,enumerable:!1,writable:!0,value:callAsync})},{"../../deferred":5,"../../is-promise":29,"../_process-arguments":6,"es5-ext/array/to-array":38,"es5-ext/object/valid-callable":68}],11:[function(require,module,exports){"use strict";var delayed,apply=Function.prototype.apply,callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred");delayed=function(fn,args,resolve,reject){var value;try{value=apply.call(fn,this,args)}catch(e){return void reject(e)}resolve(value)},module.exports=function(timeout){var fn,result;return fn=callable(this),result=function(){var def=deferred();return setTimeout(delayed.bind(this,fn,arguments,def.resolve,def.reject),timeout),def.promise},result.returnsPromise=!0,result}},{"../../deferred":5,"es5-ext/object/valid-callable":68}],12:[function(require,module,exports){"use strict";var gateReject,toPosInt=require("es5-ext/number/to-pos-integer"),callable=require("es5-ext/object/valid-callable"),eeUnify=require("event-emitter/unify"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),assimilate=require("../../assimilate"),resolve=deferred.resolve,reject=deferred.reject,apply=Function.prototype.apply,max=Math.max;require("../promise/finally"),gateReject=function(){var e=new Error("Too many calls");return e.type="deferred-gate-rejected",reject(e)},module.exports=function(cLimit,qLimit){var fn,count,decrement,unload,queue,run,result;return fn=callable(this),cLimit=max(toPosInt(cLimit),1),qLimit=null==qLimit||isNaN(qLimit)?1/0:toPosInt(qLimit),count=0,queue=[],run=function(thisArg,args,def){var r;try{r=apply.call(fn,thisArg,args)}catch(e){return def?(def.reject(e),void unload()):reject(e)}if(r=assimilate(r),isPromise(r)){if(def&&eeUnify(def.promise,r),!r.resolved)return++count,def&&def.resolve(r),r["finally"](decrement);r=r.value}return def?(def.resolve(r),void unload()):resolve(r)},decrement=function(){--count,unload()},unload=function(){var data;(data=queue.shift())&&run.apply(null,data)},result=function(){var def;return count>=cLimit?queue.length<qLimit?(def=deferred(),queue.push([this,arguments,def]),def.promise):gateReject():run(this,arguments)},result.returnsPromise=!0,result}},{"../../assimilate":4,"../../deferred":5,"../../is-promise":29,"../promise/finally":19,"es5-ext/number/to-pos-integer":55,"es5-ext/object/valid-callable":68,"event-emitter/unify":80}],13:[function(require,module,exports){"use strict";var applyFn,callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),processArguments=require("../_process-arguments"),apply=Function.prototype.apply;applyFn=function(fn,args,resolve,reject){var value;try{value=apply.call(fn,this,args)}catch(e){return void reject(e)}resolve(value)},module.exports=function(length){var fn,result;return fn=callable(this),fn.returnsPromise?fn:(null!=length&&(length>>>=0),result=function(){var args,def;if(args=processArguments(arguments,length),isPromise(args)){if(args.failed)return args;def=deferred(),args.done(function(args){applyFn.call(this,fn,args,def.resolve,def.reject)}.bind(this),def.reject)}else def=deferred(),applyFn.call(this,fn,args,def.resolve,def.reject);return def.promise},result.returnsPromise=!0,result)}},{"../../deferred":5,"../../is-promise":29,"../_process-arguments":6,"es5-ext/object/valid-callable":68}],14:[function(require,module,exports){"use strict";var callable=require("es5-ext/object/valid-callable"),callAsync=require("./call-async")._base;module.exports=function(length){var fn,result;return fn=callable(this),fn.returnsPromise?fn:(null!=length&&(length>>>=0),result=function(){return callAsync(fn,length,this,arguments)},result.returnsPromise=!0,result)}},{"./call-async":10,"es5-ext/object/valid-callable":68}],15:[function(require,module,exports){"use strict";var callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred"),reject=deferred.reject;module.exports=function(name,ext){deferred.extend(name,function(cb){var def;return null==cb||callable(cb),this.pending||(this.pending=[]),def=deferred(),this.pending.push(name,[arguments,def.resolve,def.reject]),def.promise},function(args,resolve,reject){var result;if(this.failed)return void reject(this.value);try{result=ext.apply(this.value,args)}catch(e){return void reject(e)}resolve(result)},function(cb){if(null==cb||callable(cb),this.failed)return this;try{return ext.apply(this.value,arguments)}catch(e){return reject(e)}})}},{"../../deferred":5,"es5-ext/object/valid-callable":68}],16:[function(require,module,exports){"use strict";var callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred");deferred.extend("aside",function(win,fail){return null==win||callable(win),null==fail||callable(fail),(win||fail)&&(this.pending||(this.pending=[]),this.pending.push("aside",arguments)),this},function(win,fail){var cb=this.failed?fail:win;cb&&cb(this.value)},function(win,fail){var cb;return null==win||callable(win),null==fail||callable(fail),cb=this.failed?fail:win,cb&&cb(this.value),this})},{"../../deferred":5,"es5-ext/object/valid-callable":68}],17:[function(require,module,exports){"use strict";var isCallable=require("es5-ext/object/is-callable"),validValue=require("es5-ext/object/valid-value"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),resolve=deferred.resolve,reject=deferred.reject;deferred.extend("catch",function(cb){var def;return validValue(cb),this.pending||(this.pending=[]),def=deferred(),this.pending.push("catch",[cb,def.resolve,def.reject]),def.promise},function(cb,resolve,reject){var value;if(!this.failed)return void resolve(this.value);if(isCallable(cb)){if(isPromise(cb))return void(cb.resolved?cb.failed?reject(cb.value):resolve(cb.value):cb.done(resolve,reject));try{value=cb(this.value)}catch(e){return void reject(e)}return void resolve(value)}resolve(cb)},function(cb){var value;if(validValue(cb),!this.failed)return this;if(isCallable(cb)){if(isPromise(cb))return cb;try{value=cb(this.value)}catch(e){return reject(e)}return resolve(value)}return resolve(cb)})},{"../../deferred":5,"../../is-promise":29,"es5-ext/object/is-callable":61,"es5-ext/object/valid-value":70}],18:[function(require,module,exports){"use strict";var callable=require("es5-ext/object/valid-callable"),nextTick=require("next-tick"),deferred=require("../../deferred");deferred.extend("cb",function(cb){return null==cb?this:(callable(cb),nextTick(function(){this.resolved?this.failed?cb(this.value):cb(null,this.value):(this.pending||(this.pending=[]),this.pending.push("cb",[cb]))}.bind(this)),this)},function(cb){this.failed?cb(this.value):cb(null,this.value)},function(cb){return null==cb?this:(callable(cb),nextTick(function(){this.failed?cb(this.value):cb(null,this.value)}.bind(this)),this)})},{"../../deferred":5,"es5-ext/object/valid-callable":68,"next-tick":81}],19:[function(require,module,exports){"use strict";var callable=require("es5-ext/object/valid-callable"),deferred=require("../../deferred");deferred.extend("finally",function(cb){return callable(cb),this.pending||(this.pending=[]),this.pending.push("finally",arguments),this},function(cb){cb()},function(cb){return callable(cb)(),this})},{"../../deferred":5,"es5-ext/object/valid-callable":68}],20:[function(require,module,exports){"use strict";var value=require("es5-ext/object/valid-value"),deferred=require("../../deferred"),reduce=Array.prototype.reduce,resolve=deferred.resolve,reject=deferred.reject;deferred.extend("get",function(){var def;return this.pending||(this.pending=[]),def=deferred(),this.pending.push("get",[arguments,def.resolve,def.reject]),def.promise},function(args,resolve,reject){var result;this.failed&&reject(this.value);try{result=reduce.call(args,function(obj,key){return value(obj)[String(key)]},this.value)}catch(e){return void reject(e)}resolve(result)},function(){var result;if(this.failed)return this;try{result=reduce.call(arguments,function(obj,key){return value(obj)[String(key)]},this.value)}catch(e){return reject(e)}return resolve(result)})},{"../../deferred":5,"es5-ext/object/valid-value":70}],21:[function(require,module,exports){"use strict";var applyFn,toArray=require("es5-ext/array/to-array"),isCallable=require("es5-ext/object/is-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),processArguments=require("../_process-arguments"),slice=Array.prototype.slice,apply=Function.prototype.apply,reject=deferred.reject;applyFn=function(fn,args,resolve,reject){var result;if(fn.returnsPromise){try{result=apply.call(fn,this,args)}catch(e){return void reject(e)}return resolve(result)}args=toArray(args).concat(function(error,result){null==error?resolve(arguments.length>2?slice.call(arguments,1):result):reject(error)});try{apply.call(fn,this,args)}catch(e2){reject(e2)}},deferred.extend("invokeAsync",function(method){var def;return this.pending||(this.pending=[]),def=deferred(),this.pending.push("invokeAsync",[arguments,def.resolve,def.reject]),def.promise},function(args,resolve,reject){var fn;if(this.failed)return void reject(this.value);if(null==this.value)return void reject(new TypeError("Cannot use null or undefined"));if(fn=args[0],!isCallable(fn)){if(fn=String(fn),!isCallable(this.value[fn]))return void reject(new TypeError(fn+" is not a function"));fn=this.value[fn]}if(args=processArguments(slice.call(args,1)),isPromise(args)){if(args.failed)return void reject(args.value);args.done(function(args){applyFn.call(this,fn,args,resolve,reject)}.bind(this.value),reject)}else applyFn.call(this.value,fn,args,resolve,reject)},function(method){var args,def;if(this.failed)return this;if(null==this.value)return reject(new TypeError("Cannot use null or undefined"));if(!isCallable(method)){if(method=String(method),!isCallable(this.value[method]))return reject(new TypeError(method+" is not a function"));method=this.value[method]}if(args=processArguments(slice.call(arguments,1)),isPromise(args)){if(args.failed)return args;def=deferred(),args.done(function(args){applyFn.call(this,method,args,def.resolve,def.reject)}.bind(this.value),def.reject)}else{if(method.returnsPromise)return applyFn.call(this.value,method,args,deferred,reject);def=deferred(),applyFn.call(this.value,method,args,def.resolve,def.reject)}return def.promise})},{"../../deferred":5,"../../is-promise":29,"../_process-arguments":6,"es5-ext/array/to-array":38,"es5-ext/object/is-callable":61}],22:[function(require,module,exports){"use strict";var applyFn,isCallable=require("es5-ext/object/is-callable"),deferred=require("../../deferred"),isPromise=require("../../is-promise"),processArguments=require("../_process-arguments"),slice=Array.prototype.slice,apply=Function.prototype.apply,reject=deferred.reject;applyFn=function(fn,args,resolve,reject){var value;try{value=apply.call(fn,this,args)}catch(e){return reject(e)}return resolve(value)},deferred.extend("invoke",function(method){var def;return this.pending||(this.pending=[]),def=deferred(),this.pending.push("invoke",[arguments,def.resolve,def.reject]),def.promise},function(args,resolve,reject){var fn;if(this.failed)return void reject(this.value);if(null==this.value)return void reject(new TypeError("Cannot use null or undefined"));if(fn=args[0],!isCallable(fn)){if(fn=String(fn),!isCallable(this.value[fn]))return void reject(new TypeError(fn+" is not a function"));fn=this.value[fn]}if(args=processArguments(slice.call(args,1)),isPromise(args)){if(args.failed)return void reject(args.value);args.done(function(args){applyFn.call(this,fn,args,resolve,reject)}.bind(this.value),reject)}else applyFn.call(this.value,fn,args,resolve,reject)},function(method){var args,def;if(this.failed)return this;if(null==this.value)return reject(new TypeError("Cannot use null or undefined"));if(!isCallable(method)){if(method=String(method),!isCallable(this.value[method]))return reject(new TypeError(method+" is not a function"));method=this.value[method]}return args=processArguments(slice.call(arguments,1)),isPromise(args)?args.failed?args:(def=deferred(),args.done(function(args){applyFn.call(this,method,args,def.resolve,def.reject)}.bind(this.value),def.reject),def.promise):applyFn.call(this.value,method,args,deferred,reject)})},{"../../deferred":5,"../../is-promise":29,"../_process-arguments":6,"es5-ext/object/is-callable":61}],23:[function(require,module,exports){"use strict";require("./_array")("map",require("../array/map"))},{"../array/map":7,"./_array":15}],24:[function(require,module,exports){"use strict";require("./_array")("reduce",require("../array/reduce"))},{"../array/reduce":8,
"./_array":15}],25:[function(require,module,exports){"use strict";require("./_array")("some",require("../array/some"))},{"../array/some":9,"./_array":15}],26:[function(require,module,exports){"use strict";var spread=require("es5-ext/function/#/spread"),callable=require("es5-ext/object/valid-callable"),isCallable=require("es5-ext/object/is-callable"),isPromise=require("../../is-promise"),deferred=require("../../deferred"),resolve=deferred.resolve,reject=deferred.reject;deferred.extend("spread",function(win,fail){var def;return null==win||callable(win),win||null!=fail?(this.pending||(this.pending=[]),def=deferred(),this.pending.push("spread",[win,fail,def.resolve,def.reject]),def.promise):this},function(win,fail,resolve,reject){var cb,value;if(cb=this.failed?fail:win,null==cb&&(this.failed?reject(this.value):resolve(this.value)),isCallable(cb)){if(isPromise(cb))return void(cb.resolved?cb.failed?reject(cb.value):resolve(cb.value):cb.done(resolve,reject));this.failed||(cb=spread.call(cb));try{value=cb(this.value)}catch(e){return void reject(e)}resolve(value)}else resolve(cb)},function(win,fail){var cb,value;if(cb=this.failed?fail:win,null==cb)return this;if(isCallable(cb)){if(isPromise(cb))return cb;this.failed||(cb=spread.call(cb));try{value=cb(this.value)}catch(e){return reject(e)}return resolve(value)}return resolve(cb)})},{"../../deferred":5,"../../is-promise":29,"es5-ext/function/#/spread":41,"es5-ext/object/is-callable":61,"es5-ext/object/valid-callable":68}],27:[function(require,module,exports){"use strict";var call=Function.prototype.call,assign=require("es5-ext/object/assign");module.exports=assign(require("./deferred"),{invokeAsync:require("./invoke-async"),isPromise:require("./is-promise"),validPromise:require("./valid-promise"),callAsync:call.bind(require("./ext/function/call-async")),delay:call.bind(require("./ext/function/delay")),gate:call.bind(require("./ext/function/gate")),monitor:require("./monitor"),promisify:call.bind(require("./ext/function/promisify")),promisifySync:call.bind(require("./ext/function/promisify-sync")),map:call.bind(require("./ext/array/map")),reduce:call.bind(require("./ext/array/reduce")),some:call.bind(require("./ext/array/some"))},require("./profiler")),require("./ext/promise/aside"),require("./ext/promise/catch"),require("./ext/promise/cb"),require("./ext/promise/finally"),require("./ext/promise/get"),require("./ext/promise/invoke"),require("./ext/promise/invoke-async"),require("./ext/promise/map"),require("./ext/promise/spread"),require("./ext/promise/some"),require("./ext/promise/reduce")},{"./deferred":5,"./ext/array/map":7,"./ext/array/reduce":8,"./ext/array/some":9,"./ext/function/call-async":10,"./ext/function/delay":11,"./ext/function/gate":12,"./ext/function/promisify":14,"./ext/function/promisify-sync":13,"./ext/promise/aside":16,"./ext/promise/catch":17,"./ext/promise/cb":18,"./ext/promise/finally":19,"./ext/promise/get":20,"./ext/promise/invoke":22,"./ext/promise/invoke-async":21,"./ext/promise/map":23,"./ext/promise/reduce":24,"./ext/promise/some":25,"./ext/promise/spread":26,"./invoke-async":28,"./is-promise":29,"./monitor":30,"./profiler":82,"./valid-promise":83,"es5-ext/object/assign":57}],28:[function(require,module,exports){"use strict";var isCallable=require("es5-ext/object/is-callable"),callable=require("es5-ext/object/valid-callable"),value=require("es5-ext/object/valid-value"),callAsync=require("./ext/function/call-async")._base,slice=Array.prototype.slice;module.exports=function(obj,fn){return value(obj),isCallable(fn)||(fn=callable(obj[fn])),callAsync(fn,null,obj,slice.call(arguments,2))}},{"./ext/function/call-async":10,"es5-ext/object/is-callable":61,"es5-ext/object/valid-callable":68,"es5-ext/object/valid-value":70}],29:[function(require,module,exports){"use strict";module.exports=function(o){return"function"==typeof o&&"function"==typeof o.then&&o.end!==o.done}},{}],30:[function(require,module,exports){"use strict";var max=Math.max,callable=require("es5-ext/object/valid-callable"),isCallable=require("es5-ext/object/is-callable"),toPosInt=require("es5-ext/number/to-pos-integer"),deferred=require("./deferred");exports=module.exports=function(timeout,cb){return timeout===!1?(delete deferred._monitor,delete exports.timeout,void delete exports.callback):(exports.timeout=timeout=max(toPosInt(timeout)||5e3,50),null==cb?"undefined"!=typeof console&&console&&isCallable(console.error)&&(cb=function(e){console.error(e.stack&&e.stack.toString()||"Unresolved promise: no stack available")}):callable(cb),exports.callback=cb,void(deferred._monitor=function(){var e=new Error("Unresolved promise");return setTimeout(function(){cb&&cb(e)},timeout)}))}},{"./deferred":5,"es5-ext/number/to-pos-integer":55,"es5-ext/object/is-callable":61,"es5-ext/object/valid-callable":68}],31:[function(require,module,exports){"use strict";var d,assign=require("es5-ext/object/assign"),normalizeOpts=require("es5-ext/object/normalize-options"),isCallable=require("es5-ext/object/is-callable"),contains=require("es5-ext/string/#/contains");d=module.exports=function(dscr,value){var c,e,w,options,desc;return arguments.length<2||"string"!=typeof dscr?(options=value,value=dscr,dscr=null):options=arguments[2],null==dscr?(c=w=!0,e=!1):(c=contains.call(dscr,"c"),e=contains.call(dscr,"e"),w=contains.call(dscr,"w")),desc={value:value,configurable:c,enumerable:e,writable:w},options?assign(normalizeOpts(options),desc):desc},d.gs=function(dscr,get,set){var c,e,options,desc;return"string"!=typeof dscr?(options=set,set=get,get=dscr,dscr=null):options=arguments[3],null==get?get=void 0:isCallable(get)?null==set?set=void 0:isCallable(set)||(options=set,set=void 0):(options=get,get=set=void 0),null==dscr?(c=!0,e=!1):(c=contains.call(dscr,"c"),e=contains.call(dscr,"e")),desc={get:get,set:set,configurable:c,enumerable:e},options?assign(normalizeOpts(options),desc):desc}},{"es5-ext/object/assign":57,"es5-ext/object/is-callable":61,"es5-ext/object/normalize-options":67,"es5-ext/string/#/contains":71}],32:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Array.from:require("./shim")},{"./is-implemented":33,"./shim":34}],33:[function(require,module,exports){"use strict";module.exports=function(){var arr,result,from=Array.from;return"function"!=typeof from?!1:(arr=["raz","dwa"],result=from(arr),Boolean(result&&result!==arr&&"dwa"===result[1]))}},{}],34:[function(require,module,exports){"use strict";var iteratorSymbol=require("es6-symbol").iterator,isArguments=require("../../function/is-arguments"),isFunction=require("../../function/is-function"),toPosInt=require("../../number/to-pos-integer"),callable=require("../../object/valid-callable"),validValue=require("../../object/valid-value"),isString=require("../../string/is-string"),isArray=Array.isArray,call=Function.prototype.call,desc={configurable:!0,enumerable:!0,writable:!0,value:null},defineProperty=Object.defineProperty;module.exports=function(arrayLike){var Constructor,i,j,arr,l,code,iterator,result,getIterator,value,mapFn=arguments[1],thisArg=arguments[2];if(arrayLike=Object(validValue(arrayLike)),null!=mapFn&&callable(mapFn),this&&this!==Array&&isFunction(this))Constructor=this;else{if(!mapFn){if(isArguments(arrayLike))return l=arrayLike.length,1!==l?Array.apply(null,arrayLike):(arr=new Array(1),arr[0]=arrayLike[0],arr);if(isArray(arrayLike)){for(arr=new Array(l=arrayLike.length),i=0;l>i;++i)arr[i]=arrayLike[i];return arr}}arr=[]}if(!isArray(arrayLike))if(void 0!==(getIterator=arrayLike[iteratorSymbol])){for(iterator=callable(getIterator).call(arrayLike),Constructor&&(arr=new Constructor),result=iterator.next(),i=0;!result.done;)value=mapFn?call.call(mapFn,thisArg,result.value,i):result.value,Constructor?(desc.value=value,defineProperty(arr,i,desc)):arr[i]=value,result=iterator.next(),++i;l=i}else if(isString(arrayLike)){for(l=arrayLike.length,Constructor&&(arr=new Constructor),i=0,j=0;l>i;++i)value=arrayLike[i],l>i+1&&(code=value.charCodeAt(0),code>=55296&&56319>=code&&(value+=arrayLike[++i])),value=mapFn?call.call(mapFn,thisArg,value,j):value,Constructor?(desc.value=value,defineProperty(arr,j,desc)):arr[j]=value,++j;l=j}if(void 0===l)for(l=toPosInt(arrayLike.length),Constructor&&(arr=new Constructor(l)),i=0;l>i;++i)value=mapFn?call.call(mapFn,thisArg,arrayLike[i],i):arrayLike[i],Constructor?(desc.value=value,defineProperty(arr,i,desc)):arr[i]=value;return Constructor&&(desc.value=null,arr.length=l),arr}},{"../../function/is-arguments":43,"../../function/is-function":44,"../../number/to-pos-integer":55,"../../object/valid-callable":68,"../../object/valid-value":70,"../../string/is-string":78,"es6-symbol":49}],35:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Array.of:require("./shim")},{"./is-implemented":36,"./shim":37}],36:[function(require,module,exports){"use strict";module.exports=function(){var result,of=Array.of;return"function"!=typeof of?!1:(result=of("foo","bar"),Boolean(result&&"bar"===result[1]))}},{}],37:[function(require,module,exports){"use strict";var isFunction=require("../../function/is-function"),slice=Array.prototype.slice,defineProperty=Object.defineProperty,desc={configurable:!0,enumerable:!0,writable:!0,value:null};module.exports=function(){var result,i,l;if(!this||this===Array||!isFunction(this))return slice.call(arguments);for(result=new this(l=arguments.length),i=0;l>i;++i)desc.value=arguments[i],defineProperty(result,i,desc);return desc.value=null,result.length=l,result}},{"../../function/is-function":44}],38:[function(require,module,exports){"use strict";var from=require("./from"),isArray=Array.isArray;module.exports=function(arrayLike){return isArray(arrayLike)?arrayLike:from(arrayLike)}},{"./from":32}],39:[function(require,module,exports){"use strict";var toString=Object.prototype.toString,id=toString.call(new Error);module.exports=function(x){return x&&(x instanceof Error||toString.call(x)===id)||!1}},{}],40:[function(require,module,exports){"use strict";var callable=require("../../object/valid-callable"),aFrom=require("../../array/from"),defineLength=require("../_define-length"),apply=Function.prototype.apply;module.exports=function(){var fn=callable(this),args=aFrom(arguments);return defineLength(function(){return apply.call(fn,this,args.concat(aFrom(arguments)))},fn.length-args.length)}},{"../../array/from":32,"../../object/valid-callable":68,"../_define-length":42}],41:[function(require,module,exports){"use strict";var callable=require("../../object/valid-callable"),apply=Function.prototype.apply;module.exports=function(){var fn=callable(this);return function(args){return apply.call(fn,this,args)}}},{"../../object/valid-callable":68}],42:[function(require,module,exports){"use strict";var desc,defineProperty,generate,mixin,toPosInt=require("../number/to-pos-integer"),test=function(a,b){};try{Object.defineProperty(test,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(ignore){}1===test.length?(desc={configurable:!0,writable:!1,enumerable:!1},defineProperty=Object.defineProperty,module.exports=function(fn,length){return length=toPosInt(length),fn.length===length?fn:(desc.value=length,defineProperty(fn,"length",desc))}):(mixin=require("../object/mixin"),generate=function(){var cache=[];return function(l){var args,i=0;if(cache[l])return cache[l];for(args=[];l--;)args.push("a"+(++i).toString(36));return new Function("fn","return function ("+args.join(", ")+") { return fn.apply(this, arguments); };")}}(),module.exports=function(src,length){var target;if(length=toPosInt(length),src.length===length)return src;target=generate(length)(src);try{mixin(target,src)}catch(ignore){}return target})},{"../number/to-pos-integer":55,"../object/mixin":66}],43:[function(require,module,exports){"use strict";var toString=Object.prototype.toString,id=toString.call(function(){return arguments}());module.exports=function(x){return toString.call(x)===id}},{}],44:[function(require,module,exports){"use strict";var toString=Object.prototype.toString,id=toString.call(require("./noop"));module.exports=function(f){return"function"==typeof f&&toString.call(f)===id}},{"./noop":45}],45:[function(require,module,exports){"use strict";module.exports=function(){}},{}],46:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Math.sign:require("./shim")},{"./is-implemented":47,"./shim":48}],47:[function(require,module,exports){"use strict";module.exports=function(){var sign=Math.sign;return"function"!=typeof sign?!1:1===sign(10)&&-1===sign(-20)}},{}],48:[function(require,module,exports){"use strict";module.exports=function(value){return value=Number(value),isNaN(value)||0===value?value:value>0?1:-1}},{}],49:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Symbol:require("./polyfill")},{"./is-implemented":50,"./polyfill":52}],50:[function(require,module,exports){"use strict";module.exports=function(){var symbol;if("function"!=typeof Symbol)return!1;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return!1}return"symbol"==typeof Symbol.iterator?!0:"object"!=typeof Symbol.isConcatSpreadable?!1:"object"!=typeof Symbol.iterator?!1:"object"!=typeof Symbol.toPrimitive?!1:"object"!=typeof Symbol.toStringTag?!1:"object"!=typeof Symbol.unscopables?!1:!0}},{}],51:[function(require,module,exports){"use strict";module.exports=function(x){return x&&("symbol"==typeof x||"Symbol"===x["@@toStringTag"])||!1}},{}],52:[function(require,module,exports){"use strict";var Symbol,HiddenSymbol,d=require("d"),validateSymbol=require("./validate-symbol"),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,globalSymbols=create(null),generateName=function(){var created=create(null);return function(desc){for(var name,postfix=0;created[desc+(postfix||"")];)++postfix;return desc+=postfix||"",created[desc]=!0,name="@@"+desc,defineProperty(objPrototype,name,d.gs(null,function(value){defineProperty(this,name,d(value))})),name}}();HiddenSymbol=function Symbol(description){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return Symbol(description)},module.exports=Symbol=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("TypeError: Symbol is not a constructor");return symbol=create(HiddenSymbol.prototype),description=void 0===description?"":String(description),defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))})},defineProperties(Symbol,{"for":d(function(key){return globalSymbols[key]?globalSymbols[key]:globalSymbols[key]=Symbol(String(key))}),keyFor:d(function(s){var key;validateSymbol(s);for(key in globalSymbols)if(globalSymbols[key]===s)return key}),hasInstance:d("",Symbol("hasInstance")),isConcatSpreadable:d("",Symbol("isConcatSpreadable")),iterator:d("",Symbol("iterator")),match:d("",Symbol("match")),replace:d("",Symbol("replace")),search:d("",Symbol("search")),species:d("",Symbol("species")),split:d("",Symbol("split")),toPrimitive:d("",Symbol("toPrimitive")),toStringTag:d("",Symbol("toStringTag")),unscopables:d("",Symbol("unscopables"))}),defineProperties(HiddenSymbol.prototype,{constructor:d(Symbol),toString:d("",function(){return this.__name__})}),defineProperties(Symbol.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})}),defineProperty(Symbol.prototype,Symbol.toPrimitive,d("",function(){return validateSymbol(this)})),defineProperty(Symbol.prototype,Symbol.toStringTag,d("c","Symbol")),defineProperty(HiddenSymbol.prototype,Symbol.toPrimitive,d("c",Symbol.prototype[Symbol.toPrimitive])),defineProperty(HiddenSymbol.prototype,Symbol.toStringTag,d("c",Symbol.prototype[Symbol.toStringTag]))},{"./validate-symbol":53,d:31}],53:[function(require,module,exports){"use strict";var isSymbol=require("./is-symbol");module.exports=function(value){if(!isSymbol(value))throw new TypeError(value+" is not a symbol");return value}},{"./is-symbol":51}],54:[function(require,module,exports){"use strict";var sign=require("../math/sign"),abs=Math.abs,floor=Math.floor;module.exports=function(value){return isNaN(value)?0:(value=Number(value),0!==value&&isFinite(value)?sign(value)*floor(abs(value)):value)}},{"../math/sign":46}],55:[function(require,module,exports){"use strict";var toInteger=require("./to-integer"),max=Math.max;module.exports=function(value){return max(0,toInteger(value))}},{"./to-integer":54}],56:[function(require,module,exports){"use strict";var isCallable=require("./is-callable"),callable=require("./valid-callable"),value=require("./valid-value"),call=Function.prototype.call,keys=Object.keys,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(method,defVal){return function(obj,cb){var list,thisArg=arguments[2],compareFn=arguments[3];return obj=Object(value(obj)),callable(cb),list=keys(obj),compareFn&&list.sort(isCallable(compareFn)?compareFn.bind(obj):void 0),list[method](function(key,index){return propertyIsEnumerable.call(obj,key)?call.call(cb,thisArg,obj[key],key,obj,index):defVal})}}},{"./is-callable":61,"./valid-callable":68,"./valid-value":70}],57:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.assign:require("./shim")},{"./is-implemented":58,"./shim":59}],58:[function(require,module,exports){"use strict";module.exports=function(){var obj,assign=Object.assign;return"function"!=typeof assign?!1:(obj={foo:"raz"},assign(obj,{bar:"dwa"},{trzy:"trzy"}),obj.foo+obj.bar+obj.trzy==="razdwatrzy")}},{}],59:[function(require,module,exports){"use strict";var keys=require("../keys"),value=require("../valid-value"),max=Math.max;module.exports=function(dest,src){var error,i,assign,l=max(arguments.length,2);for(dest=Object(value(dest)),assign=function(key){try{dest[key]=src[key]}catch(e){error||(error=e)}},i=1;l>i;++i)src=arguments[i],keys(src).forEach(assign);if(void 0!==error)throw error;return dest}},{"../keys":63,"../valid-value":70}],60:[function(require,module,exports){"use strict";module.exports=require("./_iterate")("forEach")},{"./_iterate":56}],61:[function(require,module,exports){"use strict";module.exports=function(obj){return"function"==typeof obj}},{}],62:[function(require,module,exports){"use strict";var map={"function":!0,object:!0};module.exports=function(x){return null!=x&&map[typeof x]||!1}},{}],63:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.keys:require("./shim")},{"./is-implemented":64,"./shim":65}],64:[function(require,module,exports){"use strict";module.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],65:[function(require,module,exports){"use strict";var keys=Object.keys;module.exports=function(object){return keys(null==object?object:Object(object))}},{}],66:[function(require,module,exports){"use strict";var value=require("./valid-value"),defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getOwnPropertyNames=Object.getOwnPropertyNames;module.exports=function(target,source){var error;if(target=Object(value(target)),getOwnPropertyNames(Object(value(source))).forEach(function(name){try{defineProperty(target,name,getOwnPropertyDescriptor(source,name))}catch(e){error=e}}),void 0!==error)throw error;return target}},{"./valid-value":70}],67:[function(require,module,exports){"use strict";var forEach=Array.prototype.forEach,create=Object.create,process=function(src,obj){var key;for(key in src)obj[key]=src[key]};module.exports=function(options){var result=create(null);return forEach.call(arguments,function(options){null!=options&&process(Object(options),result)}),result}},{}],68:[function(require,module,exports){"use strict";module.exports=function(fn){if("function"!=typeof fn)throw new TypeError(fn+" is not a function");return fn}},{}],69:[function(require,module,exports){"use strict";var isObject=require("./is-object");module.exports=function(value){if(!isObject(value))throw new TypeError(value+" is not an Object");return value}},{"./is-object":62}],70:[function(require,module,exports){"use strict";module.exports=function(value){if(null==value)throw new TypeError("Cannot use null or undefined");return value}},{}],71:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?String.prototype.contains:require("./shim")},{"./is-implemented":72,"./shim":73}],72:[function(require,module,exports){"use strict";var str="razdwatrzy";module.exports=function(){return"function"!=typeof str.contains?!1:str.contains("dwa")===!0&&str.contains("foo")===!1}},{}],73:[function(require,module,exports){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},{}],74:[function(require,module,exports){"use strict";var toInteger=require("../../number/to-integer"),value=require("../../object/valid-value"),repeat=require("./repeat"),abs=Math.abs,max=Math.max;module.exports=function(fill){var self=String(value(this)),sLength=self.length,length=arguments[1];return length=isNaN(length)?1:toInteger(length),fill=repeat.call(String(fill),abs(length)),length>=0?fill.slice(0,max(0,length-sLength))+self:self+(sLength+length>=0?"":fill.slice(length+sLength))}},{"../../number/to-integer":54,"../../object/valid-value":70,"./repeat":75}],75:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?String.prototype.repeat:require("./shim")},{"./is-implemented":76,"./shim":77}],76:[function(require,module,exports){"use strict";var str="foo";module.exports=function(){return"function"!=typeof str.repeat?!1:"foofoo"===str.repeat(2)}},{}],77:[function(require,module,exports){"use strict";var value=require("../../../object/valid-value"),toInteger=require("../../../number/to-integer");module.exports=function(count){var result,str=String(value(this));if(count=toInteger(count),0>count)throw new RangeError("Count must be >= 0");if(!isFinite(count))throw new RangeError("Count must be < ");if(result="",!count)return result;for(;;){if(1&count&&(result+=str),count>>>=1,0>=count)break;str+=str}return result}},{"../../../number/to-integer":54,"../../../object/valid-value":70}],78:[function(require,module,exports){"use strict";var toString=Object.prototype.toString,id=toString.call("");module.exports=function(x){return"string"==typeof x||x&&"object"==typeof x&&(x instanceof String||toString.call(x)===id)||!1}},{}],79:[function(require,module,exports){"use strict";var on,once,off,emit,methods,descriptors,base,d=require("d"),callable=require("es5-ext/object/valid-callable"),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,descriptor={configurable:!0,enumerable:!1,writable:!0};on=function(type,listener){var data;return callable(listener),hasOwnProperty.call(this,"__ee__")?data=this.__ee__:(data=descriptor.value=create(null),defineProperty(this,"__ee__",descriptor),descriptor.value=null),data[type]?"object"==typeof data[type]?data[type].push(listener):data[type]=[data[type],listener]:data[type]=listener,this},once=function(type,listener){var once,self;return callable(listener),self=this,on.call(this,type,once=function(){off.call(self,type,once),apply.call(listener,this,arguments)}),once.__eeOnceListener__=listener,this},off=function(type,listener){var data,listeners,candidate,i;if(callable(listener),!hasOwnProperty.call(this,"__ee__"))return this;if(data=this.__ee__,!data[type])return this;if(listeners=data[type],"object"==typeof listeners)for(i=0;candidate=listeners[i];++i)(candidate===listener||candidate.__eeOnceListener__===listener)&&(2===listeners.length?data[type]=listeners[i?0:1]:listeners.splice(i,1));else(listeners===listener||listeners.__eeOnceListener__===listener)&&delete data[type];return this},emit=function(type){var i,l,listener,listeners,args;if(hasOwnProperty.call(this,"__ee__")&&(listeners=this.__ee__[type]))if("object"==typeof listeners){for(l=arguments.length,args=new Array(l-1),i=1;l>i;++i)args[i-1]=arguments[i];for(listeners=listeners.slice(),i=0;listener=listeners[i];++i)apply.call(listener,this,args)}else switch(arguments.length){case 1:call.call(listeners,this);break;case 2:call.call(listeners,this,arguments[1]);break;case 3:call.call(listeners,this,arguments[1],arguments[2]);break;default:for(l=arguments.length,args=new Array(l-1),i=1;l>i;++i)args[i-1]=arguments[i];apply.call(listeners,this,args)}},methods={on:on,once:once,off:off,emit:emit},descriptors={on:d(on),once:d(once),off:d(off),emit:d(emit)},base=defineProperties({},descriptors),module.exports=exports=function(o){return null==o?create(base):defineProperties(Object(o),descriptors)},exports.methods=methods},{d:31,"es5-ext/object/valid-callable":68}],80:[function(require,module,exports){"use strict";var forEach=require("es5-ext/object/for-each"),validValue=require("es5-ext/object/valid-object"),push=Array.prototype.apply,defineProperty=Object.defineProperty,create=Object.create,hasOwnProperty=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0};module.exports=function(e1,e2){var data;return validValue(e1)&&validValue(e2),hasOwnProperty.call(e1,"__ee__")?(data=d.value=e1.__ee__,hasOwnProperty.call(e2,"__ee__")?void(data!==e2.__ee__&&(forEach(e2.__ee__,function(listener,name){return data[name]?void("object"==typeof data[name]?"object"==typeof listener?push.apply(data[name],listener):data[name].push(listener):"object"==typeof listener?(listener.unshift(data[name]),data[name]=listener):data[name]=[data[name],listener]):void(data[name]=listener)}),defineProperty(e2,"__ee__",d),d.value=null)):(defineProperty(e2,"__ee__",d),void(d.value=null))):hasOwnProperty.call(e2,"__ee__")?(d.value=e2.__ee__,defineProperty(e1,"__ee__",d),void(d.value=null)):(d.value=create(null),defineProperty(e1,"__ee__",d),defineProperty(e2,"__ee__",d),void(d.value=null))}},{"es5-ext/object/for-each":60,"es5-ext/object/valid-object":69}],81:[function(require,module,exports){(function(process){"use strict";var callable,byObserver;callable=function(fn){if("function"!=typeof fn)throw new TypeError(fn+" is not a function");return fn},byObserver=function(Observer){var queue,node=document.createTextNode(""),i=0;return new Observer(function(){var data;if(queue)return data=queue,queue=null,"function"==typeof data?void data():void data.forEach(function(fn){fn()})}).observe(node,{characterData:!0}),function(fn){return callable(fn),queue?void("function"==typeof queue?queue=[queue,fn]:queue.push(fn)):(queue=fn,void(node.data=i=++i%2))}},module.exports=function(){if("undefined"!=typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return byObserver(MutationObserver);if("function"==typeof WebKitMutationObserver)return byObserver(WebKitMutationObserver)}return"function"==typeof setImmediate?function(cb){setImmediate(callable(cb))}:"function"==typeof setTimeout?function(cb){setTimeout(callable(cb),0)}:null}()}).call(this,require("_process"))},{_process:87}],82:[function(require,module,exports){"use strict";var resolved,rStats,unresolved,uStats,profile,partial=require("es5-ext/function/#/partial"),forEach=require("es5-ext/object/for-each"),pad=require("es5-ext/string/#/pad"),deferred=require("./deferred");exports.profile=function(){resolved=0,rStats={},unresolved=0,uStats={},deferred._profile=profile},profile=function(isResolved){var stack,data;isResolved?(++resolved,data=rStats):(++unresolved,data=uStats),stack=(new Error).stack,stack.split("\n").slice(3).some(function(line){return-1===line.search(/[\/\\]deferred[\/\\]/)&&-1===line.search(/[\/\\]es5-ext[\/\\]/)&&-1===line.indexOf(" (native)")?(line=line.replace(/\n/g,"\\n").trim(),data[line]||(data[line]={count:0}),++data[line].count,!0):void 0})||(data.unknown||(data.unknown={count:0,stack:stack}),++data.unknown.count)},exports.profileEnd=function(){var total,lpad,log="";if(!deferred._profile)throw new Error("Deferred profiler was not initialized");return delete deferred._profile,log+="------------------------------------------------------------\n",log+="Deferred usage statistics:\n\n",total=String(resolved+unresolved),lpad=partial.call(pad," ",total.length),log+=total+" Total promises initialized\n",log+=lpad.call(unresolved)+" Initialized as Unresolved\n",log+=lpad.call(resolved)+" Initialized as Resolved\n",unresolved&&(log+="\nUnresolved promises were initialized at:\n",forEach(uStats,function(data,name){log+=lpad.call(data.count)+" "+name+"\n"},null,function(a,b){return this[b].count-this[a].count})),resolved&&(log+="\nResolved promises were initialized at:\n",forEach(rStats,function(data,name){log+=lpad.call(data.count)+" "+name+"\n"},null,function(a,b){return this[b].count-this[a].count})),log+="------------------------------------------------------------\n",{log:log,resolved:{count:resolved,stats:rStats},unresolved:{count:unresolved,stats:uStats}}}},{"./deferred":5,"es5-ext/function/#/partial":40,"es5-ext/object/for-each":60,"es5-ext/string/#/pad":74}],83:[function(require,module,exports){"use strict";var isPromise=require("./is-promise");module.exports=function(x){if(!isPromise(x))throw new TypeError(x+" is not a promise object");return x}},{"./is-promise":29}],84:[function(require,module,exports){var undefined,hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){"use strict";if(!obj||"[object Object]"!==toStr.call(obj))return!1;var has_own_constructor=hasOwn.call(obj,"constructor"),has_is_property_of_method=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!has_own_constructor&&!has_is_property_of_method)return!1;var key;for(key in obj);return key===undefined||hasOwn.call(obj,key)};module.exports=function extend(){"use strict";var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target?(deep=target,target=arguments[1]||{},i=2):("object"!=typeof target&&"function"!=typeof target||null==target)&&(target={});length>i;++i)if(options=arguments[i],null!=options)for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},target[name]=extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target}},{}],85:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;

if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],86:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],87:[function(require,module,exports){function drainQueue(){if(!draining){draining=!0;for(var currentQueue,len=queue.length;len;){currentQueue=queue,queue=[];for(var i=-1;++i<len;)currentQueue[i]();len=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(fun){queue.push(fun),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],88:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],89:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)output.push(hasOwnProperty(value,String(i))?formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0):"");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":88,_process:87,inherits:86}]},{},[1]);